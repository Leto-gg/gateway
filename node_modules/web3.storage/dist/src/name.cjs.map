{"version":3,"file":"name.cjs","sources":["../../src/name.js"],"sourcesContent":["/**\n * This module exists only to provide maintain the existing functionality to allow a\n * smooth transition to the new 'w3name' package. This module will be later removed.\n */\nimport * as w3name from 'w3name'\n\nconsole.warn('The name.js module is deprecated. You should use the new \\'w3name\\' npm package instead.')\n\nexport const {\n  Name,\n  WritableName,\n  create,\n  parse,\n  from,\n  v0,\n  increment,\n  Revision\n} = w3name\n\n/**\n * @typedef {{\n *   sign (data: Uint8Array): Promise<Uint8Array>\n * }} SigningKey\n *\n * @typedef {{\n *   endpoint: URL\n *   rateLimiter?: function\n * }} PublicService\n */\n\n/* eslint-disable no-unused-vars */\n\n/**\n * Proxy the old `publish` function arguments through to the new version.\n *\n * @param {import('./lib/interface.js').Service} service\n * @param {w3name.Revision} revision Revision of record to publish.\n * @param {SigningKey} key Private key to sign the record with.\n */\n// @ts-expect-error\nexport async function publish (service, revision, key) {\n  // The user _might_ have overridden the endpoint in the service, but it's unlikely and\n  // this library is only really intended for use with the w3name endpoint anyway. The\n  // most likely use case for overriding it is for tests, which other than for the e2e\n  // test (which wants to use the real endpoint anyway), tests no longer exist for this\n  // module because it's now just a proxy.\n  // @ts-ignore key type is libp2p-crypto PrivateKey instead of SigningKey\n  return await w3name.publish(revision, key)\n}\n\n/**\n * Proxy the old function arguments to the new version.\n * @param {PublicService} service\n * @param {w3name.Name} name The name to resolve.\n */\n// @ts-expect-error\nexport async function resolve (service, name) {\n  // Same reasoning as in `publish`, we ignore the `service` arg.\n  return await w3name.resolve(name)\n}\n"],"names":["w3name"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AACA,OAAO,CAAC,IAAI,CAAC,0FAA0F,EAAC;AACxG;AACY,MAAC;AACb,EAAE,IAAI;AACN,EAAE,YAAY;AACd,EAAE,MAAM;AACR,EAAE,KAAK;AACP,EAAE,IAAI;AACN,EAAE,EAAE;AACJ,EAAE,SAAS;AACX,EAAE,QAAQ;AACV,CAAC,GAAGA,kBAAM;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,eAAe,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAE,GAAG,EAAE;AACvD;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,OAAO,MAAMA,iBAAM,CAAC,OAAO,CAAC,QAAQ,EAAE,GAAG,CAAC;AAC5C,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACO,eAAe,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE;AAC9C;AACA,EAAE,OAAO,MAAMA,iBAAM,CAAC,OAAO,CAAC,IAAI,CAAC;AACnC;;;;;;;;;;;;;"}